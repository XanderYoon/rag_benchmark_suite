shift in the modelâ€™s chosen responses. The training losses are defined as follows: Lğ‘†ğ¹ğ‘‡ =âˆ’E (ğ¼,ğ‘,ğ‘‚ +,ğ‘‚ âˆ’ )âˆ¼S ğ·ğ‘ƒğ‘‚âˆ’ğ‘ |ğ‘‚ + |âˆ‘ï¸ ğ‘¡=1 I[ğ‘‚ + ğ‘¡ not masked]logğ‘ƒ(ğ‘‚ + ğ‘¡ |ğ¼, ğ‘, ğ‘‚ + <ğ‘¡ ;Î˜ ğ‘ ),(15) Lğ·ğ‘ƒğ‘‚ =âˆ’E (ğ¼,ğ‘,ğ‘‚ +,ğ‘‚ âˆ’ )âˆ¼S ğ·ğ‘ƒğ‘‚âˆ’ğ‘ " logğœ ğ›½ |ğ‘‚ + |âˆ‘ï¸ ğ‘¡=1 I[ğ‘‚ + ğ‘¡ not masked]log ğ‘ƒ(ğ‘‚ + ğ‘¡ |ğ¼, ğ‘, ğ‘‚ + <ğ‘¡ ;Î˜ ğ‘ ) ğ‘ƒ(ğ‘‚ + ğ‘¡ |ğ¼, ğ‘, ğ‘‚ + <ğ‘¡ ;Î˜ ğ‘âˆ’1 ) âˆ’ğ›½ |ğ‘‚ âˆ’ |âˆ‘ï¸ ğ‘¡=1 I[ğ‘‚ âˆ’ ğ‘¡ not masked]log ğ‘ƒ(ğ‘‚ âˆ’ ğ‘¡ |ğ¼, ğ‘, ğ‘‚ âˆ’ <ğ‘¡ ;Î˜ ğ‘ ) ğ‘ƒ(ğ‘‚ âˆ’ ğ‘¡ |ğ¼, ğ‘, ğ‘‚ âˆ’ <ğ‘¡ ;Î˜ ğ‘âˆ’1 ) !# , (16) Lğ´ğ¿ğ¿ =ğœ‚L ğ‘†ğ¹ğ‘‡ + Lğ·ğ‘ƒğ‘‚ ,(17) where ğ›½ and ğœ‚ are hyperparameters, and Î˜ğ‘ denotes the model parameters in theğ‘-th round, initialized fromÎ˜ ğ‘âˆ’1 .Î˜ 0 represents the model parameters after the first-stage SFT. Once the model completes training with the aforementioned loss function, the next round of data sampling, sample reward scoring, pair construction, and training can be performed, implementing iterative DPO training to continuously optimize the modelâ€™s capabilities. 5 Experiments 5.1 Experiment Setup 5.1.1 Datasets and Evaluation Metrics.We utilize the training dataset constructed in Sec- tion 4.3 to perform SFT and IP-DPO. The statistics of these datasets are shown in Table 1 and Table 2. Besides, we focus on question-answer (QA) datasets to test our model. For single-hop QA datasets, we useNQ[ 33] andPopQA[ 44]. For multi-hop QA datasets, we useHotpotQA[ 75], 2WikiMultiHopQA[ 18],Musique[ 58], andBamboogle[ 48]. For datasets without a test set, we use the development set for testing. The statistical details of these datasets are shown in Table 3. Since we use some training data from NQ, HotpotQA, and Musique, the tests on NQ, HotpotQA, and Musique datasets are in-domain tests,