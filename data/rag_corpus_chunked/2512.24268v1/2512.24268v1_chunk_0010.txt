(Sun et al., 2022), which assumesnp < N−1 2 , no longer guarantees robustness in this context. This is because the aggregation now involves selecting the top-p documents by majority vote across combinations, rather than making a decision per combination. Thus, even if the adversarial document is not the top-ranked in most combinations, it may still be retrieved due to frequency. While settingp=1 can restore the original robustness guarantee, it can greatly reduce utility. Furthermore, the framework in Sun et al. (2022) assumes that an adversary can influence the output if it is present in any single fragment within a combination. To be able to weaken this assumption, we considered the RAGPart framework that minimizes the impact of poisoned fragments even when they are included in some combinations. 5 RAGPart & RAGMask: Retrieval-Stage Defenses Against Corpus Poisoning in Retrieval-Augmented Generation Motivated by the shortcomings in majority vote-based aggregation, we analyze the effectiveness of the RAGPart framework compared to the naive combination of fragments in suppressing the effect of adversarial poisons when they are present in fragment combinations. Adversarial tokens are typically designed to increase the likelihood of retrieval when included in a document. This behavior poses a disadvantage for the naive combination approach—since the adversary remains in the raw text before embedding, its influence is preserved, and the resulting embedding can still lead to the document being retrieved. In contrast, in the RAGPart approach, each fragment is embedded independently and then averaged, reducing the influence of individual poisoned fragments. Since the poisons are not optimized to dominate the mean of multiple embeddings, their effectiveness naturally decreases. Designing adaptive poisons to counteract this is difficult: it would require crafting embeddings with unusually large norms, which is hard to achieve in practice and can be mitigated by anomaly detection in embedding space.