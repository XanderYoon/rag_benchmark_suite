given inputx i. NLL evaluates the model’s probabilistic predictions and lower values indicate better calibration. B.4 CalibRAG Details Feature extraction details.To extract features for the forecasting function, we use the hidden state of the last token from the second-to-last layer of the LLMM, as it empirically yielded bet- ter calibration performance than other layers. This hidden state serves as the input representation ffeat(q, d)for the classifier. Positional encoding details.We use a Fourier positional encoding withN= 6frequency com- ponents to encode the temperature parametert. This encoding covers the ranget∈[1.0,2.0], and during training data construction, we sampletuniformly from this range to simulate diverse user behaviors. C Examples of query reformulations In CalibRAG, the initial query is generated to simulate how a human decision-maker might pose a simple query based on the input. For example, a decision-maker faced with a problem such as "Is a tomato a fruit or a vegetable?" might craft a straightforward query like "Classification of tomatoes" to query a language model. Using this setup, we employed an LLM generator to create simple yet relevant queries and retrieved documents based on these queries. If the retrieved documents were insufficiently informative, the query was reformulated in Stage 3. This reformulation emphasized key terms to refine the query and improve the quality of retrieved documents. The specific prompt used for this process is detailed in § G. 24 Table 3: Examples of Query Reformulation Case Original Query Reformulated Query 1 Write a paragraph about the effect of TRH on my- ocardial contractility. Write a paragraph about the effect of Thyrotropin- Releasing Hormone (TRH) on myocardial con- tractility. 2 Write a paragraph about the clinical trials for off- label drugs in neonates as cited in the literature. Write a paragraph about clinical trials for off-label drug use in neonates as reported in the