The input sequence x is concatenated with the top-k re- Figure 5: REDCODER-EXT input for code generation. trieved sequences to form the augmented input se- quence, x′= x⊕Y1⊕Y2 . . .⊕Yk. The augmented input x′ is fed to PLBART to estimate pgen(y∣x′). Note that a source code often consists of doc- strings, comments that can be extracted to form code – summary pairs. In the retrieval databases, code and summaries are either singleton (e.g., code without a description or a problem statement with- out any code) or parallel. Therefore, we consider two retrieval settings that require separate modeling consideration for the generator. Case 1: Retrieve candidates are singleton In this case, we concatenate the original input se- quence x and the top-k retrieved candidates with a special separator token. x′= x [csep] Y1 [csep] Y2 . . . [csep] Yk. This is our default setting and we refer this as RED- CODER in this work. Case 2: Retrieve candidates are pairs In this case, retrieved candidates are pair of code and natu- ral language (NL) summary. We augment the input sequence using both of them as follows. x′= x [csep] Y1 [nsep] X1 [csep] Y2 [nsep] X2 . . . [csep] Yk [nsep] Xk, where Xj and Yj are parallel sequences (e.g., Yj is a piece of code and Xj is its corresponding sum- mary for the code generation task) retrieved from the database. We conjecture that the additional in- formation Xj complements the input sequence x and verify its effectiveness in the experiments. Note that retrieve candidates could be a mix of singleton and pairs. In case of a singleton candi- date, we simply replace Xj or Yj with an empty string. We refer this setting as REDCODER-EXT. Although, REDCODER-EXT is a more general setting which includes “Case 1”,