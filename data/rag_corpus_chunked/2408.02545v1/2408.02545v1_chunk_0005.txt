_target_: dataset_loaders.loaders.LocalLoader inputs: fewshot-data filename: prepared-fewshot-data.jsonl - _target_: global_steps.sampling.ShuffleSelect inputs: main shuffle: 42 limit: 10000 - _target_: local_steps.retrievers.HaystackRetriever,→ inputs: main pipeline_path: configs/qdrant.yaml query_key: query docs_key: positive_passages - _target_: global_steps.sampling.FewShot inputs: main input_dataset: fewshot-data k: 3 output_key: fewshot_examples - _target_: local_steps.prompter.TextPrompter inputs: main prompt_file: prompts/basic.txt output_key: my_prompt mapping: question: query context: positive_passages fewshot: fewshot_examples answer: answers - _target_: global_steps.output.OutputData inputs: main file_name: TQA_train_processed.jsonl Listing 1: Example of a dataset creation configuration. The example contains data loading, shuffling, sampling, retrieval, few-shot collection, prompt building and sav- ing steps. inference, and evaluation. Below, we expand on each of the modules and provide example configu- rations for running them. 3.1 Data Creation and Processing The processing module facilitates the creation of context-enhanced datasets by persisting RAG in- teractions, which are essential for RAG-oriented training and inference (Berchansky et al., 2024; Liu et al., 2024; Yu et al., 2024b). These interactions encompass dataset loading, column normalization, data aggregation, information retrieval, template- based prompt creation, and various other forms of pre-processing. The processed data can be saved in a consistent, model-independent format, along with all associated metadata, ensuring compatibil- ity and reproducibility across different models and experiments. The processing module is comprised of an ab- stract pipeline with multiple steps, each defined by Python classes that implement specific data pro- cessing functionalities. These steps are categorized into two types: • Global Steps: Can act on the dataset as a whole, making them useful for operations such as aggre- gations, group-by, examples filtering, join opera- tions, and more. • Local Steps : Operate on individual examples, making them suitable for tasks such as retrieval, text processing, and field manipulation. The modular design allows for building flexible and efficient data processes, tailored to the needs of RAG-oriented training and inference. Steps can be categorized into the following non-exclusive