original prompt to generate recommendations. 3.3 Hop-Field Knowledge Sub-graphs for Semantic Indexing Typically, retrieving knowledge from KG chunks the KG into nodes (He et al., 2024) or triplets (Luo et al., 2023) and only retrieves content locally around the target entity in the KG. However, these methods just naively retrieve the first-order neigh- bors of an entity (i.e., item), which makes it difficult to capture these higher-order neighborhood effects among entities/items in the recommendation pro- cess. Therefore, to effectively retrieve knowledge from the KG, we propose performing semantic in- dexing on hop-field knowledge sub-graphs, which can flexibly chunk KGs and provide a comprehen- sive view of a node’s neighborhood in KG. As illustrated in Figure 2 component 1, we first intro- duce a pre-trained language model (PLM), such as SentenseBert (Reimers, 2019), to capture the semantic information for node no as follows: zno = PLM(xno) ∈ Rd, (1) where d is the dimension of the output represen- tation. Similarly, we also capture the semantic information for edge/relation eo in KG: reo = PLM(xeo) ∈ Rd, (2) where xno and xeo are the text attributes (e.g., item’s title and descriptions) of node no and edge/relation eo, respectively. To retrieve nuanced knowledge of both coarse and fine graph structures from KG, we introduce a GNN (i.e., GNNIndexing ϕ1 (·) with parameters ϕ1) to aggregate information from neighbors for entities, where the lth-hop embedding z(l) no of a central entity no can be defined by: zl no = GNNIndexing ϕ1 ({z(l−1) nm , r(l−1) e<o,m> : nm ∈ N (no)}), (3) where N (no) is the set of neighbours of node no, and e<o,m> is the edge between node no and nm. For each entity, its l-hop representation can be seen as a knowledge sub-graph representation contain- ing the l-hop neighbors of itself.