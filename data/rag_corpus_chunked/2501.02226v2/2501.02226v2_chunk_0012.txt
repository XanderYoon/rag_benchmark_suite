Response: The user may want to watch the movie_*, because ... 5. Knowledge-augmented Recommendation Retrieved Knowledge Sub-graphs 4. Knowledge Sub-graphs Re-Ranking ... {movie_1, ... , movie_5} User Historical Interactions {movie_1 <RET>, ... , movie_5} ... ... 2. Popularity Selective Retrieval Policy ... Knowledge Graph for Items Retrieved Knowledge Sub-graphs ... ... Semantic Information node attributes edge attributes Re-ranked Knowledge Sub-graphs War (tag) English Bomb (actor) Cartoon (genre) perform_in perform_in is contain contain show is Figure 2: The overview of the K-RagRec. It contains five key components: Hop-Field Knowledge Sub-graphs for Semantic Indexing, Popularity Selective Retrieval Policy, Knowledge Sub-graphs Retrieval, Knowledge Sub-graphs Re-Ranking, and Knowledge-augmented Recommendation. trieved from user ui’s historical interactions V ui will be used to form a knowledge sub-graph set G. 3.6 Knowledge Sub-graphs Re-Ranking To refine the quality of retrieval for enhancing rec- ommendation performance, the next crucial step is knowledge sub-graphs re-ranking. Feeding all re- trieved knowledge sub-graphs g′ ∈ G directly into LLM can lead to information overload if the userui has a long historical interaction list towards items. Therefore, we execute re-ranking to shorten the re- trieved knowledge sub-graphs and ensure the most relevant knowledge sub-graphs are prioritized at the top of the prompt. Specifically, we adopt the recom- mendation prompt as a query for re-ranking, which consists of task descriptions and users’ historical items. For example, this recommendation prompt can be "What is the top recommended movie for the user who watched {Matrix, ..., Iron Man}?" . For consistency, we adopt the same PLM to capture the semantic information of the above prompt as p, and re-rank the knowledge sub-graphs in G to obtain a Top-N knowledge sub-graphs set ˆG: ˆG = argtopNg′∗∈G sim p, zg′∗  . (6) 3.7 Knowledge-augmented Recommendation To facilitate the LLM’s better understanding of the structure of retrieved