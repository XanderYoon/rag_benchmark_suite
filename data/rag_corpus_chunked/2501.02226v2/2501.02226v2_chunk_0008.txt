|] (e.g., clicks, bought, etc.), where |Lui| is interac- tion sequence length for user ui. Notably, item vj’ side information, such as title and description, is publicly available to enhance LLM for model- ing user preferences. In our setting, we consider asking the LLM to select user u’s preferred item v from the candidate set C = {vj}M j=1, where M is the number of candidate items. The candidate set C typically consists of one positive sample as well as M − 1 negative samples. Specifically, for a frozen LLM fδ with parameters δ, we denote an input-output sequence pair as (Q, A), where Q is the recommendation query/prompt, which consists of task descriptions and users’ historical items. The output A is the LLM’s prediction. Furthermore, we introduce the concept of GNNs in appendix A.2. 3.2 The Overview of Proposed Method As shown in Figure 2, our proposed K-RagRec con- sists of five crucial components: Hop-Field Knowl- edge Sub-graphs for Semantic Indexing, Popularity Selective Retrieval Policy, Knowledge Sub-graphs Retrieval, Knowledge Sub-graphs Re-Ranking, and Knowledge-augmented Recommendation. The model first performs indexing of hop-field knowl- edge sub-graphs within the KG. Following this, a popularity selective retrieval policy is implemented to determine which items should be retrieved or augmented. The model then retrieves specific sub- graphs from the knowledge vector database. Sub- sequently, the retrieved knowledge sub-graphs are re-ranked to refine the retrieval quality. Finally, the retrieved knowledge sub-graphs are utilized with the original prompt to generate recommendations. 3.3 Hop-Field Knowledge Sub-graphs for Semantic Indexing Typically, retrieving knowledge from KG chunks the KG into nodes (He et al., 2024) or triplets (Luo et al., 2023) and only retrieves content locally around the target entity in the KG. However, these methods just naively retrieve the first-order neigh- bors of an entity (i.e., item), which