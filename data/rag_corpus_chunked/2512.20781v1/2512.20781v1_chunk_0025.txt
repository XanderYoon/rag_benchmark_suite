in computing systems, 401–408. Zhang, Y .; Feng, F.; Zhang, J.; Bao, K.; Wang, Q.; and He, X. 2025. Collm: Integrating collaborative embeddings into large language models for recommendation.IEEE Transac- tions on Knowledge and Data Engineering. Zhao, B.; Feng, J.; Wu, X.; and Yan, S. 2017. Memory- augmented attribute manipulation networks for interactive fashion search. InProceedings of the IEEE conference on computer vision and pattern recognition, 1520–1528. Zhou, K.; Yang, J.; Loy, C. C.; and Liu, Z. 2022. Conditional prompt learning for vision-language models. InProceedings of the IEEE/CVF conference on computer vision and pattern recognition, 16816–16825. Appendix A Soft Filtering with Dual Textual Constraints A.1 Large Language Model Prompt Templates The SoFT module utilizes a unified prompt, termed the Dual Constraint Extraction Prompt, to extract both prescrip- tive (must-have) and proscriptive (must-avoid) textual con- straints from each reference-modification pair. This prompt is designed to be dataset-agnostic and generalizable across domains. Accordingly, it is applied consistently in all exper- iments, including those on CIRCO, CIRR, FashionIQ and our constructed multi-target benchmarks. Dual Constraint Extraction Prompt Template You are a helpful assistant for a composed image retrieval system. You are given a reference image and a modification text that describes how the image should be changed. Your task is to extract meaningful attribute information and generate two types of semantic queries from a reference image and a modification text. ## Step 1. Attribute Classification Analyze the modification text in the context of the reference image and extract three types of attribute-value lists. - “keep”: A list of key attribute values that should remain unchanged in the reference image according to the modification text. - “add”: A list of attribute values that are not present in the reference image but are explicitly or implicitly required by the modification text. - “remove”: A list