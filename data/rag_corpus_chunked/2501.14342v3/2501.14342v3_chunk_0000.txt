Chain-of-Retrieval Augmented Generation Liang Wang†∗ Haonan Chen‡ Nan Yang† Xiaolong Huang† Zhicheng Dou‡ Furu Wei† †Microsoft Research ‡Renmin University of China https://aka.ms/GeneralAI Abstract This paper introduces an approach for training o1-like RAG models that retrieve and reason over relevant information step by step before generating the final answer. Conventional RAG methods usually perform a single retrieval step before the generation process, which limits their effectiveness in addressing complex queries due to imperfect retrieval results. In contrast, our proposed method,CoRAG (Chain-of-RetrievalAugmentedGeneration), allows the model to dynamically reformulate the query based on the evolving state. To train CoRAG effectively, we utilize rejection sampling to automatically generate intermediate retrieval chains, thereby augmenting existing RAG datasets that only provide the correct final answer. At test time, we propose various decoding strategies to scale the model’s test-time compute by controlling the length and number of sampled retrieval chains. Experimental results across multiple benchmarks validate the efficacy of CoRAG, particularly in multi-hop question answering tasks, where we observe more than 10 points improvement in EM score compared to strong baselines. On the KILT benchmark, CoRAG establishes a new state-of-the-art performance across a diverse range of knowledge-intensive tasks. Furthermore, we offer comprehensive analyses to understand the scaling behavior of CoRAG, laying the groundwork for future research aimed at developing factual and grounded foundation models. 4k 8k 16k 32k 64k 128k # Avg. T okens 18 20 22 24 26 28 30EM CoRAG on MuSiQue Ours Previous SoTA Pareto frontier (a) Where did the star of Dark Hazard study? What was the name of the star of Dark Hazard? Edward G. Robinson Where did Edward G. Robinson go to college? No relevant information found. What college did Edward G. Robinson attend? City College of New York. City College of New York decomposition retrieval failure reformulation (b) Figure 1: