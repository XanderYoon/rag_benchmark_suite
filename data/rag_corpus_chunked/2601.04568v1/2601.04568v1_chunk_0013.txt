KG-Path RAG training and inference pipeline.Top: Graph-based ranking loss training process across three steps. Initially, the knowledge graph contains uncertain relationships (Step 1). During training, the system learns to identify satisfied edges (green) and filter noisy connections (red X), progressively building reliable reasoning paths through entities (e1, e2, e3, e4) to satisfy query constraints (qe) (Steps 2-3).Bottom: Inference pipeline showing query enrichment from a single user question toKqueries (including the original), followed by multi-hop graph traversal with BFS (Breadth First Search)- guided exploration that distinguishes strong and weak connections across 1st and 2nd hop neighbors. FAISS (Facebook AI Semantic Search) retrieves candidate documents while the ranking functionq(x)separates positives from negatives. The optimized retrieval results combine relevant queries and top-kdocuments, which are structured through a template (Query/Question by User, Retrieved Paragraphs, Generated Answer by LLM) and fed to the T5 model for final answer generation. This joint optimization of KG traversal and retrieval enables explicit path-based provenance while maintaining semantic grounding. The bi-directional arrow between user and T5 represents a RAG-disabled case, similar to MentalLLAMA, a fine-tuned model answering mental health queries. Performk-hop traversal to gather related concepts: Nk(qe) = k[ i=1 BFSi(N(q e), KG) 2. Query Enrichment::Generate enriched query using LLM (e.g., masked language model or autoregressive model) conditioned on original query and KG-derived concepts: qenriched =LLM(q e ∪ Nk(qe)) 3. Graph-Based Ranking Function::For each document dj, compute retrieval score incorporating both semantic simi- larity and graph connectivity: score(qenriched, dj) =α·cosine(Enc(q enriched),Enc(d j)) + (1−α)·PR(d j, KG) where PR (PageRank) iteratively refines node importance: PR(ei) = 1−γ |E| +γ X ej ∈In(ei) PR(ej) |Out(ej)| 4. Joint Optimization Objective::Minimize ranking loss that combines retrieval accuracy with graph structure: L=L retrieval +β· L graph-rank (1) Lgraph-rank =− X (q,d+,d−) log escore(q,d+) escore(q,d+) +e score(q,d−) (2) whered + are relevant documents andd −