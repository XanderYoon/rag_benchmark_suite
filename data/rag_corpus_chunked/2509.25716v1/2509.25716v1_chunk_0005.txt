smaller models to achieve performance comparable to much larger models while maintaining significantly reduced latency. This multi-stage process, combining a knowledge-informed search space, enriched indexing, advanced query generation, and re-ranking, forms a robust pipeline that significantly outperforms vanilla retrieval methods([2]) for code generation tasks. 4. Dataset and Index Construction 4.1. Dataset Construction We constructed a custom evaluation dataset from real-world ServiceNow development scenarios to capture the challenge of API retrieval from partial code. Our dataset consists of 850 code completion scenarios, each containing a partial JavaScript code snippet and the corresponding ground truth Script Include that should be used to complete the code. To explain the terms used in our dataset: •code_middle: Autocompletion span where the target API is invoked. • code_before / code_after: Prefix and suffix around code_middle; the prefix omits the target Script Include so retrieval must rely on context, while the suffix adds extra lines without exposing the API. Figure 2: Task anatomy:highlighting how code_before, and code_after are used to recover the ground- truth Script Include required forcode_middle. This setup makes the retrieval task realistic and challenging, because the model must understand the code context without direct hints. The “incomplete code” provided as the input for completion can be FIM (fill-in-the-middle) or non-FIM format depending on whethercode_afteris available in the input. To ensure data quality, we employed an LLM judge (Gemini 2.5 Flash) to evaluate the clarity of developer intent in each sample. The judge identified 705 samples (83%) as having clear intent, which we use for our primary evaluation. The remaining 145 samples with ambiguous intent are excluded from our main results but analyzed separately to understand failure cases. 4.2. Index Construction Our search index covers 277 distinct Script Include namespaces containing 3,337 individual APIs. The index documents vary significantly in length: full scripts range from