the need for sufficient information to infer developer intent while avoiding noise from distant code that may not be relevant to the current retrieval task. Note that the downstream code generation task may require more context. Figure 4 illustrates the relationship between context length and retrieval accuracy. A.5. Code Before vs. After Analysis We investigated whether using code that comes before the cursor (prefix) or after the cursor (suffix) provides better retrieval performance for user code in the middle. Our analysis revealed that the prefix Figure 4: A4 code trimming and context length code consistently outperforms suffix code for Script Include retrieval. This is likely because prefix code better captures the developerâ€™s intent and the context in which they are working, while suffix code often contains implementation details that are less useful for API retrieval. Suffix code still provides additional boost to the retrieval. Figure 5 shows the performance comparison between using code before and after the cursor position. Figure 5: Performance of Code Context Ablation A.6. Code Proximity and Relevance We conducted an ablation study to examine how the proximity of code elements affects retrieval accuracy. Our experiments revealed a critical finding: the maximum information for API retrieval is contained in the last 1-2 lines immediately preceding the API invocation. Our analysis compared different context trimming strategies, including using all lines before the cursor, excluding the last line, excluding the last two lines, and limiting context to ten lines with various exclusions. The results consistently showed that removing the last 1-2 lines before the API invocation leads to significant performance degradation in both Top-K accuracy and Mean Reciprocal Rank (MRR), regardless of the overall context length. This finding, as illustrated in 6 suggests that while broader context provides some benefit, the imme- diate preceding lines contain disproportionately valuable information