assesses whether the queries align with the systemâ€™s knowledge bounds. Such an assessment enables the expert to more accurately determine whether additional retrieval actions are needed. This capability is especially beneficial for complex queries that demand deeper reasoning regarding infor- mation sufficiency. The sequential modeling process is formalized as follows: Qğ‘¡ =Fğ‘„ğ‘… (Qğ‘¡âˆ’1 ,D ğ‘¡ ), Ağ‘¡ =Fğ¼ğ´ (Qğ‘¡ ,D ğ‘¡ ). (8) Both the retrieval decision-making function Fğ¼ğ´ and query refor- mulation function Fğ‘„ğ‘… are implemented through MLLM generation. To effectively harness the capabilities of MLLMs within these plan- ning sub-tasks, we meticulously engineer tailored prompts. 4.2.2 Retrieval and Generation.At each iterative stage, the selec- tion of retrieval actions determines whether or not and which retrieval API is invoked, either text retrieval or image retrieval. We leverage Google Web Search and Google Image Search as our primary retrieval API service. For each text retrieval request, we retrieve the top-k search results to ensure that only the most rele- vant information is retained. These results undergo preprocessing through the Jina API framework 2, which transforms the raw web content into structured representations better suited for MLLM con- sumption. The visual retrieval pipeline captures full-page screen- shots of search results, employing a set of systematic human-crafted rules to eliminate extraneous elements such as white space and original query images. To balance computational cost with retrieval quality, we limit the image retrieval to between three and six high- confidence candidates, accompanied by their contextual captions to provide relevant semantic grounding. Furthermore, to enhance system efficiency and responsiveness, we incorporate caching mech- anisms for both text and image retrieval modules. This iterative cycle culminates when the planning expert collec- tively assesses that the acquired information is sufficiently compre- hensive and the formulated query exhibits adequate clarity. Upon reaching this convergence criterion, the planning