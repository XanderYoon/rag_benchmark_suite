Constrained Auto-Regressive Decoding Constrains Generative Retrieval Shiguang Wu Shandong University Qingdao, China shiguang.wu@mail.sdu.edu.cn Zhaochun Ren∗ Leiden University Leiden, The Netherlands z.ren@liacs.leidenuniv.nl Xin Xin Shandong University Qingdao, China xinxin@sdu.edu.cn Jiyuan Yang Shandong University Qingdao, China jiyuan.yang@mail.sdu.edu.cn Mengqi Zhang Shandong University Qingdao, China mengqi.zhang@sdu.edu.cn Zhumin Chen Shandong University Qingdao, China chenzhumin@sdu.edu.cn Maarten de Rijke University of Amsterdam Amsterdam, The Netherlands m.derijke@uva.nl Pengjie Ren∗ Shandong University Qingdao, China jay.ren@outlook.com Abstract Generative retrieval (GR) seeks to replace traditional search index data structures with a single large-scale neural network, offering the potential for improved efficiency and seamless integration with generative large language models. As an end-to-end paradigm, GR adopts a learned differentiable search index to conduct retrieval by directly generating document identifiers through corpus-specific constrained decoding. The generalization capabilities of generative retrieval on out-of-distribution corpora have gathered significant attention. Recent advances primarily focus on the problems aris- ing from training strategies, and addressing them through various learning techniques. However, the fundamental challenges of gen- eralization arising from constrained auto-regressive decoding still remain unexplored and systematically understudied. In this paper, we examine the inherent limitations of constrained auto-regressive generation from two essential perspectives: con- straints and beam search. We begin with the Bayes-optimal setting where the GR model exactly captures the underlying relevance distribution of all possible documents. Then we apply the model to specific corpora by simply adding corpus-specific constraints. Our main findings are two-fold: (i) For the effect of constraints, we derive a lower bound of the error, in terms of the KL diver- gence between the ground-truth and the model-predicted step-wise marginal distributions. This error arises due to the unawareness of future constraints during generation and is shown to depend on the average Simpson diversity index of the relevance distribution. ∗Corresponding authors. Permission to make digital or hard copies of all or part