train the model to predict the next item auto-regressively similar to the language modelingâ€™s objective [35]. 3.1.2 Retrieval Training. To retrieve memories that share the same (or similar) preference as the input user sequence, a retrieval train- ing objective is developed to maximize the agreement of positive pairs and minimize that of negative pairs. The positive pair consists of two user sequences that share the same (or similar) preference. In SeRec, the goal is to predict the next item. Therefore, if the next item of two user sequences is the same, these two sequences can be thought to have similar collaborative semantics [34]. Particularly, the positive pair can be defined as ğ‘ ğ‘¢â€²,ğ‘¡ğ‘– = [ğ‘£ğ‘¡ğ‘– âˆ’ğ‘‡ +1, ..., ğ‘£ğ‘¡ğ‘– ], and ğ‘ ğ‘¢â€²â€²,ğ‘¡ ğ‘— = [ğ‘£ğ‘¡ ğ‘— âˆ’ğ‘‡ +1, ..., ğ‘£ğ‘¡ ğ‘— ], where ğ‘£ğ‘¡ğ‘– +1 and ğ‘£ğ‘¡ ğ‘— +1 are the same item. For brevity, we mark ğ‘ ğ‘¢â€²,ğ‘¡ğ‘– , ğ‘ ğ‘¢â€²â€²,ğ‘¡ ğ‘— as ğ‘ â€², ğ‘ â€²â€², respectively. The user representation of them can be defined as: hâ€² = SeqEnc(sâ€²), hâ€²â€² = SeqEnc(sâ€²â€²). (6) In retrieval training settings, negative samples usually need to be selected from a large pool [22]. To efficiently construct negatives, we treat the other samples in the same training batch as negatives. Assume that we have a training batchB that consists of |B| positive pairs: B = {âŸ¨hâ€² 1, hâ€²â€² 1 âŸ©, âŸ¨hâ€² 2, hâ€²â€² 2 âŸ©, ..., âŸ¨hâ€² | B |, hâ€²â€² | B |âŸ©} . (7) Conference acronym â€™XX, June 03â€“05, 2018, Woodstock, NY Zhao et al. Figure 3: The architecture of Retrieval-Augmented Module, where Ëœh is the augmented user representation. As such, for each positive pair, there are2(|B|âˆ’ 1) negatives forming the negative set Sâˆ’. For example, for the positive pair âŸ¨hâ€² 1, hâ€²â€² 1 âŸ©, its corresponding negative set is Sâˆ’ 1 = {hâ€² 2, hâ€²â€²