the top- ğ‘˜ documents. than solely focusing on the semantic relevance between the query and documents. 5.3.3 Document Rerank. We also validated the effectiveness of the personalized reranker we designed, as shown in Table 3, rows (5) and (6). First, in row (5), it can be seen that using a pre-trained reranker leads to worse results, highlighting the importance of fine-tuning based on LLM feedback. We also observed the effect of removing eğ‘¢ from Eq. (10) and only using hğ‘,ğ‘‘ to calculate ğ‘†reranker ğ‘,ğ‘‘ for ranking, as indicated in row (6). The results decreased in this case, highlighting the importance of considering usersâ€™ personalized preferences in the reranker. 5.4 Experimental Analysis As mentioned in Section 1, adapting collaborative filtering into personalized RAG faces two challenges. Challenge 1: How to in- troduce collaborative information? Challenge 2: How to retrieve documents that support personalized LLM generation? In this sec- tion, we conduct experimental analysis to further demonstrate the effectiveness of our method in addressing these two challenges. Ad- ditionally, we provide further analysis of the results of CFRAG and the impact of hyper-parameters. Due to space limitations, we con- ducted experimental analysis on the LaMP-1 and LaMP-5 datasets. 5.4.1 Effectiveness of User Retrieval using Contrastive Learning (Challenge 1) . As described in Section 1, to address Challenge 1, we train user embeddings using contrastive learning to retrieve the top-ğ‘š most similar users for introducing collaborative information. To validate the effectiveness of this approach, we compared it with randomly selecting ğ‘š users and selecting users from top-ğ‘š to 2ğ‘š, as shown in Figure 5. First, we can see that randomly selecting 1 2 3 4 5 6 top-m 0.635 0.638 0.641 0.644 0.647 0.650Accuracy Accuracy 0.315 0.317 0.319 0.321 0.323 0.325 F1 F1 (a) LaMP-1 1 2 3 4 5 6 top-m 0.460