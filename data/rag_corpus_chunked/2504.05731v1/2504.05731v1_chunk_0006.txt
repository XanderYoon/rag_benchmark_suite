how to retrieve documents that support personalized LLM generation. â€¢ We proposed a method called CFRAG, which uses contrastive learning to train user embeddings for retrieving similar users and incorporating collaborative information. It leverages LLM feedback to train the personalized retriever and reranker, enabling them to retrieve documents that support personalized LLM generation. â€¢ Experimental results on the Language Model Personalization (LaMP) [32] benchmark validate the effectiveness of CFRAG. The experimental analysis also demonstrates the importance of leverag- ing collaborative information. 2 Related Work Personalization of LLMs. Large Language Models (LLMs) [55] have demonstrated remarkable capabilities in various fields, such as text generation [22], information retrieval [56], recommender systems [5, 41], and so on. However, since LLMs are typically de- signed to serve all tasks with a single model and are trained on broad, domain-agnostic data, they face challenges in adapting to the personalized needs of individual users [4, 32]. Therefore, LLM personalization has attracted widespread attention [16, 31, 57]. Retrieval Augmented Generation with Collaborative Filtering for Personalized Text Generation SIGIR â€™25, July 13â€“18, 2025, Padua, Italy. Encoderğ‘‘ Encoderğ‘ Encoderğ‘¢User ğ‘¢ Doc ğ‘‘ Query ğ‘ Cross Encoder User ğ‘¢ Doc ğ‘‘ Query ğ‘ Encoderğ‘¢ Retriever â€¦ ğ‘‘11 ğ‘‘1ğ‘˜ â€¦ ğ‘‘ğ‘š1 ğ‘‘ğ‘šğ‘˜ Retriever â€¦ ğ‘¢1 ğ‘¢ğ‘š Reranker â€¦ ğ‘‘1 ğ‘‘ğ‘˜ User Retrieval Query ğ‘User ğ‘¢ Query ğ‘User ğ‘¢ Retrieved Documents Reranked Documents â€¦ â€¦ LLM User ğ‘¢ User Set (1) User Retrieval (2) Document Retrieval (3) Document Rerank Retrieved Users Generated Results Figure 2: The architecture of CFRAG. From left to right: (a) User Retrieval retrieves similar users (Section 4.1); (b) Retriever retrieves the top- ğ‘˜ documents from each userâ€™s history (Section 4.2); (c) Reranker reranks the ğ‘š Ã— ğ‘˜ documents to get the final top-ğ‘˜ documents, which are then concatenated with the query and input into the LLM for personalized