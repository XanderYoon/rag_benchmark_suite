4: Performance comparison of R2AG with vari- ous retrievers on NQ-10 dataset. HotpotQA 2Wiki MuSiQue 0.0 0.2 0.4 0.6Acc 4.51% 8.14% 38.95% Acc F1 0.0 0.1 0.2 0.3 0.4 F1 24.05% 1.68% 3.08% Figure 5: Performance of R 2AG7B and R 2AG13B. Darker parts mean the difference values of R2AG13B. 4.4 Ablation Studies To demonstrate the effectiveness of R 2AG, we create four variants. Specifically, we remove three retrieval features r, γ, ζ, individually. For R2-Former, we remove the QDM loss LQDM . We conduct the ablation studies on the NQ-10 and NQ- 20 datasets, using LLaMA27B and LongChat1.57B as foundation LLMs with results shown in Table 3. We can obtain the following observations: First, the performance decreases without any of the three retrieval features, underscoring their effectiveness. The results reveal that utilizing additional retrieval features can help LLMs disentangle irrelevant documents. Secondly, the performance decreases without the QDM loss, showing that the query- document matching task is indeed beneficial for exploiting retrieval information. To explore the effectiveness of the retrieval- aware prompting strategy, we design an experi- ment on NQ-10 dataset with various top-k retrieved documents where the retrieval information is set as learnable tokens. This means R 2AG only uses these soft prompts without additional features when training and inference. From the results shown in Figure 3, we can find that: (1) When retrieval re- sults are largely relevant, with few or no redundant documents, learnable tokens do not aid the LLM and may instead become redundant information for the generation. (2) As the number of docu- ments increases, it is natural to observe a decline 48 document1 193 document2 (relevant) 326 document3 486 document4 635 32 28 24 20 16 12 8 4 Layer 63 eR 1 document1 214 eR 2 document2 (relevant) 353 eR 3 document3