prompt template shown in Figure 2 that instructs the model to produce concise and factually correct answers. 4.1 Investigated Predictors QPP Approaches.We experiment with existing QPP approaches: – NQC[50], which analyses the variance of retrieval scores of the top-retrieved documents, integrating with query term frequency. 1 We perform all indexing and retrieval using the PyTerrier framework [40]. 2 QuantFactory/Meta-Llama-3-8B-GGUF Predicting Retrieval Utility and Answer Quality in RAG 9 Table 1: Prediction accuracy of single QPP predictors in RPP (left) and GPP (right). Results are reported on the NQ test set using the top-2 retrieved documents as RAG context (k=2). The best method for each retrieval configuration is bold-faced. RPP GPP QPP Method BM25 MonoT5 E5 BM25 MonoT5 E5 NQC 0.0694 -0.0643 0.0994 0.0610 -0.1288 0.1210 MaxScore 0.1485 0.1625 0.1288 0.1609 0.2218 0.2344 DenseQPP 0.17390.20270.10250.2166 0.29920.1922 A-Pair-Ratio 0.1565 0.01360.19130.1353 -0.04830.2470 BERT-QPP0.18980.1474 0.1352 0.2079 0.1641 0.1630 – MaxScore[56], which uses the score of the top-ranked document as an esti- mation of the retrieved context’s upper bound on relevance. – Dense-QPP[21], which computes the volume of the minimal hypercube cov- ering the embeddings of the query and its top-kdocuments (kequals the context size). E5 is used to obtain the embeddings [57]. – A-Pair-Ratio[56], which measures coherence by comparing pairwise simi- larities between the top-5 and bottom-5 documents from the top-100. – BERT-QPP[3], a cross-encoder trained to predict MRR from the text of a query and the corresponding top-retrieved document. Perplexity-Based Predictors.As introduced in Section 3.2, we use context perplexity (PerpC) and answer perplexity (PerpA) as reader-centric predictors. Both predictors are derived from the model’s next-token probabilities provided by Llama-3-8B. In our experiments, PerpCserves as a pre-generation predictor, while PerpAis used as an additional post-generation predictor for both RPP and GPP. For implementation, we compute PerpAand PerpCas the exponentials of theaveragelog-probabilities(withoutnegation),sothathighervaluescorrespond positively with answer