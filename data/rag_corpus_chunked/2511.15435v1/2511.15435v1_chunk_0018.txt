Table 1 and Table 2. The overall results show that our proposed method achieved the most severe attack influence on retrieval and generation process of MRAG. Several key conclusions can be made: Our hierarchical attack works on both retrieval and generation.Among the datasets, our hierarchical attack method all achieve declines in both retrieval and generation metrics. As shown in the results, former baseline methods demonstrate attack advantage either in retrieval or gener- ation. X-transfer [14]’s noise is more effective at attack- ing the generator (the retrieval metrics’ decline are subtle compared to the VQA metrics). While LMM attack [7]’s noise is comparably more effective at attacking the retrieval process. For our attack, the hierarchical structure leads to a more balanced attack effectiveness on both retrieval and generation, and disrupts the whole MRAG chain by only modifying the image input, making the attack highly im- perceptible to human vision while effective. Our hierarchical attack works on the fine-tuned re- triever.As shown in the tables, the off-the-shell models are highly vulnerable against adversarial noise in the retrieval task. However, previous attack methods can not achieve equivalent effectiveness towards both off-the-shell and fine- tuned models. For example, as shown in Table 1, the non- hierarchical LMM attack can achieve 74.77% attack suc- cess rate on the R@5 metric of off-the-shell CLIP, while only getting 23.73% success rate on the fine-tuned version. While for our hierarchical attack method, we achieved high success rate (72.32% and 57.38%) on non-fine-tuned and fine-tuned retrievers. Note that though the attack perfor- Figure 4. Performance of ablated models with different steps. mance of LMM Attack and our method are compatible on the original CLIP, our method achieves over two times the success rate on the fine-tuned version. Our hierarchical attack works on various black-box generators.We use BLIP-2 and LLaV