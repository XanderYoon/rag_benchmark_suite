Caption A photo of a dog catching a frisbee in the grass, where a woman is watching. Negative Caption A photo of a small shack with a sign that says stop, where coca cola is sold. A photo of asmall shack with a sign that saysstop, where coca cola is sold. Image + Cpation RSS Modality-level Contrastive Learning MCL Stage 2: Semantic Alignment Attack When was the cola brand on the signs founded? A photo of a small shack with a sign that says stop, where coca cola is sold. Query Image + Text Negative Query When was the cola brand on the signs founded? A photo of a small shack with a ... Positive Document 'disc dog (commonly called frisbee dog) is a dog sport. ... participate in .... ' RSS Semantic-level Contrastive Learning MCL Start End When was the cola brand on the signs founded? Multi-modal Contrastive Learning (MCL) Multi- modal Encoder Text Encoder Text Encoderpull push Positive text Negative textMulti- modal anchor Figure 3. An overview of the proposed method. The top part illustrates the overall MRAG pipeline and our hierarchical structure, which adds image perturbation to the retriever and generator respectively. The hierarchical two-stage strategy we employed for generating retrieval visual attack is shown in the lower block. We optimize the added perturbation step-by-step by first breaking the modality alignment, then disrupting the semantic alignment. 10, 32], which have full access to the attacked model, aim to maximize the adversarial effect. Fast Gradient Sign Method (FGSM) [9] generates adversarial examples by adding a small perturbation in the direction of the gradient of the loss function with respect to the input. The Projected Gradient Descent (PGD) [25] is an iterative variant of FGSM that re- fines the perturbation through multiple steps. The Carlini and Wagner (CW) attack