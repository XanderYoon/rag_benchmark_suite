y upperbound for the last line item to tighten the bounds. III. G ENERAL LINE ITEMS RECOGNITION METRIC The goal of LIR is to extract information into an ordered list of line items where each line item corresponds to a row in a table and is formatted into column key-value pairs. In this section, we will derive a new metric class for LIR. A metric for LIR should have the following attributes: 1) Subtask Isolation : Performance on the subtasks must be measured separately. 2) Cell Isolation : A True Positive corresponds to exactly one predicted cell and one ground truth cell. 3) Cell Completeness : Hallucinated cells are counted as False Positives. Missing cells are counted as False Negatives. 4) Cell Similarity-Measure Flexibility: Within the same subtask, the metric must support multiple cell similarity measures. 5) Cell Row-Position Invariance: The credit given to a correctly predicted cell is the same regardless of absolute row position. 6) Row-Order Preservation: For any two predicted rows, their relative order and the relative order of their matching ground truth rows must be the same. 7) Column-Permutation Invariance: The metric must be invari- ant to column shuffling. Attribute #1 is important because we do not often need both the cell content and location information for downstream tasks. Attributes #2 and #3 are so that we can have an F1-score-like metric that penalizes both over-extraction and under-extraction of cells. Attribute #4 is so the metric can be extended to support multiple similarity measures more appropriate for downstream tasks. Attribute #5 is relevant in cases where there are extra or missing rows in the predictions. We only want to penalize such rows, not the rows with matching ground truth. Attribute #6 is important because there are documents where the order of the rows matter. For example,