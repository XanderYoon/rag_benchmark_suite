the battle, is completely missing.", "is_sufficient": false }} --- END OF EXAMPLE --- Now, apply this pragmatic logic to the following: [User Question]: "{question}" [Collected Evidence]: {evidence} Provide your final assessment in the following strict JSON format: {{ "reasoning": "<A brief analysis of what can be answered and what critical information, if any, is still missing.>", "is_sufficient": <true or false> }} """, "query_refinement": """ You are an expert AI systems evaluator. A RAG system determined its initial evidence was insufficient and generated new sub-queries to find missing information. Your task is to evaluate the quality of these new queries. [User Question]: "{question}" [Insufficient Initial Evidence]: {evidence} [Newly Generated Sub-Queries for Refinement]: {new_queries} Assess how effectively the new sub-queries target the information gaps in the initial evidence to help answer the main question. Provide your assessment in the following JSON format: {{ "score": <A numeric score from 1.0 (Poorly targeted) to 5.0 (Excellent, precisely targets gaps)>, "reasoning": "<A very brief explanation for your score>" }} """, "final_context_relevance": """ You are an expert information retrieval evaluator. Your task is to score the relevance of each document in the final context that was used to generate an answer. [User Question]: "{question}" [Final Context Used for Generation (final_relevant_evidence)]: {final_evidence} For each document in the final context, provide a relevance score. Provide your assessment in the following JSON format: {{ "relevance_scores": [ {{ "doc_id": "<_id of doc 1>", "score": <numeric score from 1.0 (Irrelevant) to 5.0 (Highly Relevant)> }}, {{ "doc_id": "<_id of doc 2>", "score": <numeric score from 1.0 (Irrelevant) to 5.0 (Highly Relevant)> }} ] }} """, "faithfulness": """ You are an expert in AI safety and fact-checking, specializing in the evaluation of Retrieval-Augmented Generation (RAG) systems. Your task is to evaluate the answer's faithfulness to the provided evidence with nuance. - A